javascript:(()=>{const e=document.createElement("style");e.textContent="#floatingMenu {    position: fixed;    top: 100px;    right: 10px;    width: 300px;    max-height: 450px;    background: rgba(0,0,0,0.7);    color: white;    font-family: Arial, sans-serif;    font-size: 14px;    border-radius: 6px;    box-shadow: 0 0 12px black;    display: flex;    flex-direction: column;    user-select: none;    z-index: 999999;    overflow: hidden;    transition: max-height 0.4s ease;}#floatingMenu.collapsed { max-height: 40px; }#floatingMenuHeader {    padding: 8px 10px;    background: rgba(0,0,0,0.85);    cursor: move;    display: flex;    justify-content: space-between;    align-items: center;    font-weight: bold;}#floatingMenuTitle { flex-grow: 1; }#floatingMenuControls { display: flex; align-items: center; } button:not(.keyboard-toggle) {    cursor: pointer; color: white; margin-left: 6px;    font-weight: bold; user-select: none;    background: none; border: none;    font-size: 16px; line-height: 1; padding: 0;    display: flex; align-items: center; justify-content: center;} .keyboard-toggle {    cursor: pointer; color: white; font-size: 16px;    line-height: 1; padding: 4px 6px; border-radius: 4px;    transition: background 0.3s ease; margin-left: 6px;} .keyboard-toggle.on { background: #2ecc71; } .keyboard-toggle.off { background: #7f8c8d; }#searchInput {    margin: 3px 10px; padding: 5px 8px; border-radius: 4px;    border: none; font-size: 14px; width: calc(100% - 20px);    box-sizing: border-box; direction: rtl;    color: black;}#floatingMenuList {    padding: 5px 10px;    transition: opacity 0.4s ease;    flex-grow: 1;    display: flex;    flex-direction: column;    overflow: hidden;}#floatingMenuList.fade { opacity: 0; }#floatingMenuList.scrollable {    overflow-y: auto;    max-height: 380px;}#floatingMenuList div {    padding: 5px 8px;    border-radius: 4px;    margin-bottom: 4px;    background: rgba(255,255,255,0.1);    cursor: pointer;    white-space: nowrap;    text-overflow: ellipsis;    overflow-x: hidden;    max-width: 100%;    box-sizing: border-box;    transition: background 0.25s ease, color 0.25s ease;}#floatingMenuList div:hover { background: rgba(255,255,255,0.25); }#highlight { background: yellow; color: black; font-weight: bold; }#floatingMenu.collapsed #searchInput,#floatingMenu.collapsed #floatingMenuList {    opacity: 0; pointer-events: none; height: 0; padding: 0 10px;    overflow: hidden !important;    transition: opacity 0.4s ease, height 0.4s ease, padding 0.4s ease, margin 0.4s ease;}#floatingMenuList .active {    background: orange !important; color: black !important; transform: scale(1.02);}",document.head.appendChild(e);const n=document.createElement("div");n.id="floatingMenu";const t=document.createElement("div");t.id="floatingMenuHeader";const o=document.createElement("div");o.id="floatingMenuTitle",o.textContent="פוסטים";const i=document.createElement("div");i.id="floatingMenuControls";const l=document.createElement("button");l.textContent="-";const r=document.createElement("button");r.textContent="×";const a=document.createElement("button");a.textContent="↕",a.classList.add("keyboard-toggle","on"),i.appendChild(l),i.appendChild(r),t.appendChild(a),t.appendChild(o),t.appendChild(i);const d=document.createElement("input");d.id="searchInput",d.placeholder="חפש פוסטים...";const s=document.createElement("div");s.id="floatingMenuList",n.appendChild(t),n.appendChild(d),n.appendChild(s),document.body.appendChild(n);let c=!0,u=-1,g=null;function p(e){return/[\u0590-\u05FF]/.test(e)}function h(){const e=document.querySelectorAll("main");if(!e.length)return null;let n=null;return e.forEach(e=>{const t=e.getBoundingClientRect();t.height>200&&t.bottom>100&&(n=e)}),n}function f(){const e=h();if(!e)return[];const n=e.querySelectorAll(".whitespace-pre-wrap");return Array.from(n).map((e,n)=>{const t=e.querySelector("a"),o=t?t.textContent.trim():e.textContent.trim();return{element:e,text:o,index:n}})}function x(e){e.style.transition="background-color 1.5s ease",e.style.backgroundColor="yellow",setTimeout(()=>e.style.backgroundColor="",1500)}let m="";function b(e=!1){const n=f(),t=d.value.trim().toLowerCase(),i=n.filter(e=>e.text.toLowerCase().includes(t)),l=JSON.stringify(i.map(e=>e.text));if(l===m)return;m=l,o.textContent=0===i.length?"לא נמצאו פוסטים":"פוסטים";const r=o.textContent.trim().charAt(0);if(o.style.direction=p(r)?"rtl":"ltr",s.innerHTML="",s.classList.toggle("scrollable",i.length>10),0===i.length){const e=document.createElement("div");e.textContent="לא נמצאו פוסטים",e.style.textAlign="center",e.style.opacity="0.7",s.appendChild(e)}else i.forEach(({element:e,text:n},o)=>{const i=document.createElement("div");i.innerHTML=function(e,n){if(!n)return e;const t=new RegExp(`(${o=n,o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");var o;return e.replace(t,'<span id="highlight">$1</span>')}(n,t),i.style.textAlign=p(n[0])?"right":"left",i.style.direction=p(n[0])?"rtl":"ltr",i.addEventListener("click",()=>{e.scrollIntoView({behavior:"smooth",block:"center"}),x(e),u=o,w(s.querySelectorAll("div"))}),s.appendChild(i)});u=e&&i.length>0?i.length-1:0,w(s.querySelectorAll("div"))}function w(e){e.forEach((e,n)=>{e.classList.toggle("active",n===u),n===u&&e.scrollIntoView({block:"nearest",behavior:"smooth"})})}l.addEventListener("click",()=>n.classList.toggle("collapsed")),r.addEventListener("click",()=>n.remove()),d.addEventListener("input",()=>b()),window.addEventListener("scroll",function(){const e=f(),n=d.value.trim().toLowerCase(),t=e.filter(e=>e.text.toLowerCase().includes(n));if(!t.length)return;const o=window.innerHeight/2;let i=-1,l=1/0;if(t.forEach((e,n)=>{const t=e.element.getBoundingClientRect(),r=Math.abs(t.top+t.height/2-o);r<l&&(l=r,i=n)}),-1===i)return;u=i,w(s.querySelectorAll("div"))}),a.addEventListener("click",()=>{c=!c,a.classList.toggle("on",c),a.classList.toggle("off",!c)}),window.addEventListener("keydown",e=>{if(!c)return;const n=s.querySelectorAll("div");if(n.length&&("ArrowDown"===e.key&&(e.preventDefault(),u=(u+1)%n.length,w(n)),"ArrowUp"===e.key&&(e.preventDefault(),u=(u-1+n.length)%n.length,w(n)),"Enter"===e.key)){e.preventDefault();const n=f(),t=d.value.trim().toLowerCase(),o=n.filter(e=>e.text.toLowerCase().includes(t));if(o[u]){const e=o[u].element;e.scrollIntoView({behavior:"smooth",block:"center"}),x(e)}}});let v,y,C,k,L=!1;t.addEventListener("mousedown",e=>{L=!0,v=e.clientX,y=e.clientY;const t=n.getBoundingClientRect();C=t.left,k=t.top,e.preventDefault()}),window.addEventListener("mousemove",e=>{if(!L)return;let t=C+(e.clientX-v),o=k+(e.clientY-y);t=Math.max(0,Math.min(t,window.innerWidth-n.offsetWidth)),o=Math.max(0,Math.min(o,window.innerHeight-n.offsetHeight)),n.style.left=t+"px",n.style.top=o+"px",n.style.right="auto"}),window.addEventListener("mouseup",()=>L=!1);new MutationObserver(b).observe(document.body,{childList:!0,subtree:!0}),g=h(),b(!0)})();
